{"version":3,"sources":["webpack:///./examples/alert.js","webpack:///./examples/assets/index.less"],"names":["seed","Alert","componentDidMount","props","setTimeout","onEnd","time","render","style","background","width","padding","marginLeft","marginRight","str","Component","propTypes","number","type","string","func","defaultProps","AlertGroup","state","alerts","key","ret","target","forEach","a","push","setState","callback","addAlert","concat","self","children","map","String","bind","position","top","zIndex","alertGroup","alert","div","document","createElement","body","appendChild","alertFn","i","m","onClick","getElementById"],"mappings":";;;;;;;;;;;;;;;AAEA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;gfANA;;AAOA,KAAIA,OAAO,CAAX;;KAEMC,K;;;;;;;;;mBAcJC,iB,gCAAoB;AAClB,SAAMC,QAAQ,KAAKA,KAAnB;AACAC,gBAAW,YAAM;AACfD,aAAME,KAAN;AACD,MAFD,EAEGF,MAAMG,IAFT;AAGD,I;;mBAEDC,M,qBAAS;AACP,SAAMJ,QAAQ,KAAKA,KAAnB;AACA,SAAMK,QAAQ;AACZC,mBAAY,QADA;AAEZC,cAAO,GAFK;AAGZC,gBAAS,EAHG;AAIZC,mBAAY,MAJA;AAKZC,oBAAa;AALD,MAAd;AAOA,YAAO;AAAA;AAAA,SAAK,OAAOL,KAAZ;AAAoBL,aAAMW;AAA1B,MAAP;AACD,I;;;GA/BiB,gBAAMC,S;;AAApBd,M,CACGe,S,GAAY;AACjBV,SAAM,oBAAUW,MADC;AAEjBC,SAAM,oBAAUC,MAFC;AAGjBL,QAAK,oBAAUK,MAHE;AAIjBd,UAAO,oBAAUe;AAJA,E;AADfnB,M,CAQGoB,Y,GAAe;AACpBhB,QADoB,mBACZ,CAAE,CADU;;AAEpBC,SAAM,IAFc;AAGpBY,SAAM;AAHc,E;;KA2BlBI,U;;;;;;;;;;;;8JACJC,K,GAAQ;AACNC,eAAQ;AADF,M,SAIRnB,K,GAAQ,UAACoB,GAAD,EAAS;AACf,WAAMD,SAAS,OAAKD,KAAL,CAAWC,MAA1B;AACA,WAAME,MAAM,EAAZ;AACA,WAAIC,eAAJ;AACAH,cAAOI,OAAP,CAAe,UAACC,CAAD,EAAO;AACpB,aAAIA,EAAEJ,GAAF,KAAUA,GAAd,EAAmB;AACjBE,oBAASE,CAAT;AACD,UAFD,MAEO;AACLH,eAAII,IAAJ,CAASD,CAAT;AACD;AACF,QAND;AAOA,WAAIF,MAAJ,EAAY;AACV,gBAAKI,QAAL,CAAc;AACZP,mBAAQE;AADI,UAAd,EAEG,YAAM;AACP,eAAIC,OAAOK,QAAX,EAAqB;AACnBL,oBAAOK,QAAP;AACD;AACF,UAND;AAOD;AACF,M,SAEDC,Q,GAAW,UAACJ,CAAD,EAAO;AAChB,cAAKE,QAAL,CAAc;AACZP,iBAAQ,OAAKD,KAAL,CAAWC,MAAX,CAAkBU,MAAlB,CAAyBL,CAAzB;AADI,QAAd;AAGD,M;;;wBAEDtB,M,qBAAS;AACP,SAAMiB,SAAS,KAAKD,KAAL,CAAWC,MAA1B;AACA,SAAMW,OAAO,IAAb;AACA,SAAMC,WAAWZ,OAAOa,GAAP,CAAW,UAACR,CAAD,EAAO;AACjC,WAAI,CAACA,EAAEJ,GAAP,EAAY;AACVzB;AACA6B,WAAEJ,GAAF,GAAQa,OAAOtC,IAAP,CAAR;AACD;AACD,cAAO,8BAAC,KAAD,eAAW6B,CAAX,IAAc,OAAOM,KAAK9B,KAAL,CAAWkC,IAAX,CAAgBJ,IAAhB,EAAsBN,EAAEJ,GAAxB,CAArB,IAAP;AACD,MANgB,CAAjB;AAOA,SAAMjB,QAAQ;AACZgC,iBAAU,OADE;AAEZ9B,cAAO,MAFK;AAGZ+B,YAAK,EAHO;AAIZC,eAAQ;AAJI,MAAd;AAMA,YAAQ;AAAA;AAAA,SAAK,OAAOlC,KAAZ;AACN;AAAA;AAAA,WAAS,gBAAe,MAAxB,EAA+B,WAAU,KAAzC;AAAgD4B;AAAhD;AADM,MAAR;AAGD,I;;;GApDsB,gBAAMrB,S;;AAuD/B,KAAI4B,mBAAJ;;AAEA,UAASC,KAAT,CAAe9B,GAAf,EAAoBR,IAApB,EAA0BY,IAA1B,EAAgCc,QAAhC,EAA0C;AACxC,OAAI,CAACW,UAAL,EAAiB;AACf,SAAME,MAAMC,SAASC,aAAT,CAAuB,KAAvB,CAAZ;AACAD,cAASE,IAAT,CAAcC,WAAd,CAA0BJ,GAA1B;AACAF,kBAAa,mBAASpC,MAAT,CAAgB,8BAAC,UAAD,OAAhB,EAA+BsC,GAA/B,CAAb;AACD;AACDF,cAAWV,QAAX,CAAoB;AAClBnB,aADkB;AAElBR,eAFkB;AAGlBY,eAHkB;AAIlBc;AAJkB,IAApB;AAMD;;AAED,UAASkB,OAAT,CAAiBC,CAAjB,EAAoB;AAClB,YAASC,CAAT,GAAa;AACXR,gBAASO,CAAT;AACD;;AAED,UAAOC,CAAP;AACD;;AAED,UAASC,OAAT,GAAmB;AACjB,QAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B/C,gBAAW8C,QAAQC,CAAR,CAAX,EAAuB,OAAOA,CAA9B;AACD;AACF;;AAED,oBAAS5C,MAAT,CACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,IADF;AAEE;AAAA;AAAA,OAAQ,SAAS8C,OAAjB;AAAA;AAAA;AAFF,EADF,EAKEP,SAASQ,cAAT,CAAwB,iBAAxB,CALF,E;;;;;;ACjIA,0C","file":"alert.js","sourcesContent":["/* eslint no-console:0, react/no-multi-comp:0 */\n\nimport './assets/index.less';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nlet seed = 0;\n\nclass Alert extends React.Component {\n  static propTypes = {\n    time: PropTypes.number,\n    type: PropTypes.string,\n    str: PropTypes.string,\n    onEnd: PropTypes.func,\n  }\n\n  static defaultProps = {\n    onEnd() {},\n    time: 2000,\n    type: 'success',\n  }\n\n  componentDidMount() {\n    const props = this.props;\n    setTimeout(() => {\n      props.onEnd();\n    }, props.time);\n  }\n\n  render() {\n    const props = this.props;\n    const style = {\n      background: 'yellow',\n      width: 600,\n      padding: 20,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    };\n    return <div style={style}>{props.str}</div>;\n  }\n}\n\n\nclass AlertGroup extends React.Component {\n  state = {\n    alerts: [],\n  }\n\n  onEnd = (key) => {\n    const alerts = this.state.alerts;\n    const ret = [];\n    let target;\n    alerts.forEach((a) => {\n      if (a.key === key) {\n        target = a;\n      } else {\n        ret.push(a);\n      }\n    });\n    if (target) {\n      this.setState({\n        alerts: ret,\n      }, () => {\n        if (target.callback) {\n          target.callback();\n        }\n      });\n    }\n  }\n\n  addAlert = (a) => {\n    this.setState({\n      alerts: this.state.alerts.concat(a),\n    });\n  }\n\n  render() {\n    const alerts = this.state.alerts;\n    const self = this;\n    const children = alerts.map((a) => {\n      if (!a.key) {\n        seed++;\n        a.key = String(seed);\n      }\n      return <Alert {...a} onEnd={self.onEnd.bind(self, a.key)}/>;\n    });\n    const style = {\n      position: 'fixed',\n      width: '100%',\n      top: 50,\n      zIndex: 9999,\n    };\n    return (<div style={style}>\n      <Animate transitionName=\"fade\" component=\"div\">{children}</Animate>\n    </div>);\n  }\n}\n\nlet alertGroup;\n\nfunction alert(str, time, type, callback) {\n  if (!alertGroup) {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    alertGroup = ReactDOM.render(<AlertGroup/>, div);\n  }\n  alertGroup.addAlert({\n    str,\n    time,\n    type,\n    callback,\n  });\n}\n\nfunction alertFn(i) {\n  function m() {\n    alert(`${i}`);\n  }\n\n  return m;\n}\n\nfunction onClick() {\n  for (let i = 0; i < 4; i++) {\n    setTimeout(alertFn(i), 1000 * i);\n  }\n}\n\nReactDOM.render(\n  <div>\n    <h2>notification</h2>\n    <button onClick={onClick}>show notification</button>\n  </div>,\n  document.getElementById('__react-content')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./examples/alert.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/assets/index.less\n// module id = 2\n// module chunks = 0 1 3 4 5 6 8"],"sourceRoot":""}